<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>gossip3</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="gossip3">Gossip3</h1>
<h2 id="sync">Sync</h2>
<h3 id="high-level">High level</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-x5sESolch2vmSVxi" height="100%" width="100%" style="max-width:550px;" viewBox="-150 -10 550 500"><g></g><g><line id="actor6636" x1="75" y1="5" x2="75" y2="489" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">SignerA</tspan></text></g><g><line id="actor6637" x1="275" y1="5" x2="275" y2="489" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">SignerB</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><text x="175" y="93" class="messageText" style="text-anchor: middle;">GetSyncer</text><line x1="75" y1="100" x2="275" y2="100" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g></g><g><text x="172.5" y="128" class="messageText" style="text-anchor: middle;">Address of Syncer</text><line x1="270" y1="135" x2="75" y2="135" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="172.5" y="163" class="messageText" style="text-anchor: middle;">Difference Strata</text><line x1="75" y1="170" x2="270" y2="170" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="172.5" y="198" class="messageText" style="text-anchor: middle;">Sized IBF</text><line x1="270" y1="205" x2="75" y2="205" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="-100" y="215" fill="#EDF2AE" stroke="#666" width="150" height="37" rx="0" ry="0" class="note"></rect><text x="-104" y="239" fill="black" class="noteText"><tspan x="-84" fill="black">Decodes IBF</tspan></text></g><g><text x="172.5" y="280" class="messageText" style="text-anchor: middle;">RequestKeys</text><line x1="75" y1="287" x2="270" y2="287" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="50" y="297" fill="#EDF2AE" stroke="#666" width="250" height="37" rx="0" ry="0" class="note"></rect><text x="46" y="321" fill="black" class="noteText"><tspan x="66" fill="black">The below happens in parallel</tspan></text></g><g><text x="172.5" y="362" class="messageText" style="text-anchor: middle;">Send wanted keys</text><line x1="270" y1="369" x2="75" y2="369" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="172.5" y="397" class="messageText" style="text-anchor: middle;">Send wanted keys</text><line x1="75" y1="404" x2="270" y2="404" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="0" y="424" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="456.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">SignerA</tspan></text></g><g><rect x="200" y="424" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="456.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">SignerB</tspan></text></g></svg></div>
<h3 id="when-too-busy">When too busy</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-yoMK2EXtHqfDdIao" height="100%" width="100%" style="max-width:450px;" viewBox="-50 -10 450 231"><g></g><g><line id="actor6638" x1="75" y1="5" x2="75" y2="220" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">SignerA</tspan></text></g><g><line id="actor6639" x1="275" y1="5" x2="275" y2="220" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">BusySigner</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><text x="175" y="93" class="messageText" style="text-anchor: middle;">GetSyncer</text><line x1="75" y1="100" x2="275" y2="100" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="270" y="102" fill="#f4f4f4" stroke="#666" width="10" height="33" rx="0" ry="0"></rect></g><g><text x="172.5" y="128" class="messageText" style="text-anchor: middle;">Too busy</text><line x1="270" y1="135" x2="75" y2="135" class="messageLine1" stroke-width="2" stroke="black" marker-end="url(#crosshead)" style="stroke-dasharray: 3, 3; fill: none;"></line></g><g><rect x="0" y="155" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="187.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">SignerA</tspan></text></g><g><rect x="200" y="155" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="187.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">BusySigner</tspan></text></g></svg></div>
<h3 id="with-actors">With actors</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-2GB7eDJUULlW9BH0" height="100%" width="100%" style="max-width:1850px;" viewBox="-50 -10 1850 791"><g></g><g><line id="actor6640" x1="75" y1="5" x2="75" y2="780" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">A/Gossiper</tspan></text></g><g><line id="actor6641" x1="275" y1="5" x2="275" y2="780" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">A/Storage</tspan></text></g><g><line id="actor6642" x1="475" y1="5" x2="475" y2="780" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">A/ObjectSender</tspan></text></g><g><line id="actor6643" x1="675" y1="5" x2="675" y2="780" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="600" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="675" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="675" dy="0">A/PushSyncer</tspan></text></g><g><line id="actor6644" x1="875" y1="5" x2="875" y2="780" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="800" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="875" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="875" dy="0">B/Tupelo</tspan></text></g><g><line id="actor6645" x1="1075" y1="5" x2="1075" y2="780" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1000" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1075" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1075" dy="0">B/Gossiper</tspan></text></g><g><line id="actor6646" x1="1275" y1="5" x2="1275" y2="780" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1275" dy="0">B/PushSyncer</tspan></text></g><g><line id="actor6647" x1="1475" y1="5" x2="1475" y2="780" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1475" dy="0">B/Storage</tspan></text></g><g><line id="actor6648" x1="1675" y1="5" x2="1675" y2="780" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1600" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1675" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1675" dy="0">B/ObjectSender</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><text x="375" y="93" class="messageText" style="text-anchor: middle;">DoOneSync</text><line x1="75" y1="100" x2="675" y2="100" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="775" y="128" class="messageText" style="text-anchor: middle;">GetRemoteSyncer</text><line x1="675" y1="135" x2="875" y2="135" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="975" y="163" class="messageText" style="text-anchor: middle;">Forward GetRemoteSyncer</text><line x1="875" y1="170" x2="1075" y2="170" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="875" y="198" class="messageText" style="text-anchor: middle;">ActorPID for syncer</text><line x1="1075" y1="205" x2="675" y2="205" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="475" y="233" class="messageText" style="text-anchor: middle;">GetStrata</text><line x1="675" y1="240" x2="275" y2="240" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="475" y="268" class="messageText" style="text-anchor: middle;">strata</text><line x1="275" y1="275" x2="675" y2="275" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="975" y="303" class="messageText" style="text-anchor: middle;">strata</text><line x1="675" y1="310" x2="1275" y2="310" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="1375" y="338" class="messageText" style="text-anchor: middle;">get IBF</text><line x1="1275" y1="345" x2="1475" y2="345" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="1375" y="373" class="messageText" style="text-anchor: middle;">IBF</text><line x1="1475" y1="380" x2="1275" y2="380" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="975" y="408" class="messageText" style="text-anchor: middle;">IBF</text><line x1="1275" y1="415" x2="675" y2="415" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="975" y="443" class="messageText" style="text-anchor: middle;">KeyRequest with A/Storage PID</text><line x1="675" y1="450" x2="1275" y2="450" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="575" y="478" class="messageText" style="text-anchor: middle;">SendKeys</text><line x1="675" y1="485" x2="475" y2="485" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="375" y="513" class="messageText" style="text-anchor: middle;">GetKeys</text><line x1="475" y1="520" x2="275" y2="520" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="375" y="548" class="messageText" style="text-anchor: middle;">Keys</text><line x1="275" y1="555" x2="475" y2="555" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="975" y="583" class="messageText" style="text-anchor: middle;">Objects</text><line x1="475" y1="590" x2="1475" y2="590" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="1575" y="618" class="messageText" style="text-anchor: middle;">Get Keys</text><line x1="1675" y1="625" x2="1475" y2="625" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="1575" y="653" class="messageText" style="text-anchor: middle;">Keys</text><line x1="1475" y1="660" x2="1675" y2="660" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="975" y="688" class="messageText" style="text-anchor: middle;">Objects</text><line x1="1675" y1="695" x2="275" y2="695" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="0" y="715" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="747.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">A/Gossiper</tspan></text></g><g><rect x="200" y="715" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="747.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">A/Storage</tspan></text></g><g><rect x="400" y="715" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="747.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">A/ObjectSender</tspan></text></g><g><rect x="600" y="715" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="675" y="747.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="675" dy="0">A/PushSyncer</tspan></text></g><g><rect x="800" y="715" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="875" y="747.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="875" dy="0">B/Tupelo</tspan></text></g><g><rect x="1000" y="715" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1075" y="747.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1075" dy="0">B/Gossiper</tspan></text></g><g><rect x="1200" y="715" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1275" y="747.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1275" dy="0">B/PushSyncer</tspan></text></g><g><rect x="1400" y="715" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1475" y="747.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1475" dy="0">B/Storage</tspan></text></g><g><rect x="1600" y="715" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1675" y="747.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1675" dy="0">B/ObjectSender</tspan></text></g></svg></div>
<h2 id="actor-communication">Actor Communication</h2>
<h3 id="a-valid-transaction-with-no-flaws">A valid transaction with no flaws</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-HOMsgLsYZwV4rzHQ" height="100%" width="100%" style="max-width:1850px;" viewBox="-50 -10 1850 681"><g></g><g><line id="actor6649" x1="75" y1="5" x2="75" y2="670" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">memPool</tspan></text></g><g><line id="actor6650" x1="275" y1="5" x2="275" y2="670" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">tupelo</tspan></text></g><g><line id="actor6651" x1="475" y1="5" x2="475" y2="670" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">verifier pool</tspan></text></g><g><line id="actor6652" x1="675" y1="5" x2="675" y2="670" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="600" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="675" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="675" dy="0">conflict set router</tspan></text></g><g><line id="actor6653" x1="875" y1="5" x2="875" y2="670" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="800" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="875" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="875" dy="0">conflict set</tspan></text></g><g><line id="actor6654" x1="1075" y1="5" x2="1075" y2="670" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1000" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1075" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1075" dy="0">signature generator</tspan></text></g><g><line id="actor6655" x1="1275" y1="5" x2="1275" y2="670" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1275" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1275" dy="0">signature sender</tspan></text></g><g><line id="actor6656" x1="1475" y1="5" x2="1475" y2="670" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1475" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1475" dy="0">currentStateStore</tspan></text></g><g><line id="actor6657" x1="1675" y1="5" x2="1675" y2="670" class="actor-line" stroke-width="0.5px" stroke="#999"></line><rect x="1600" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1675" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1675" dy="0">commitStore</tspan></text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"></path></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" stroke-width="1px" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray: 0, 0;"></path><path fill="none" stroke="#000000" stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><g><text x="175" y="93" class="messageText" style="text-anchor: middle;">new transaction</text><line x1="75" y1="100" x2="275" y2="100" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="375" y="128" class="messageText" style="text-anchor: middle;">transaction</text><line x1="275" y1="135" x2="475" y2="135" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="375" y="163" class="messageText" style="text-anchor: middle;">is valid</text><line x1="475" y1="170" x2="275" y2="170" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="475" y="198" class="messageText" style="text-anchor: middle;">transaction</text><line x1="275" y1="205" x2="675" y2="205" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="775" y="233" class="messageText" style="text-anchor: middle;">transaction</text><line x1="675" y1="240" x2="875" y2="240" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="975" y="268" class="messageText" style="text-anchor: middle;">transactionWrapper</text><line x1="875" y1="275" x2="1075" y2="275" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="975" y="303" class="messageText" style="text-anchor: middle;">signatureWrapper</text><line x1="1075" y1="310" x2="875" y2="310" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="1075" y="338" class="messageText" style="text-anchor: middle;">signatureWrapper</text><line x1="875" y1="345" x2="1275" y2="345" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="875" y="373" class="messageText" style="text-anchor: middle;">is done?</text><path d="M 875,380 C 935,370 935,410 875,400" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></path></g><g><text x="775" y="438" class="messageText" style="text-anchor: middle;">currentStateWrapper</text><line x1="875" y1="445" x2="675" y2="445" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="475" y="473" class="messageText" style="text-anchor: middle;">currentStateWrapper</text><line x1="675" y1="480" x2="275" y2="480" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="875" y="508" class="messageText" style="text-anchor: middle;">currentStateWrapper</text><line x1="275" y1="515" x2="1475" y2="515" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="975" y="543" class="messageText" style="text-anchor: middle;">currentStateWrapper</text><line x1="275" y1="550" x2="1675" y2="550" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><text x="175" y="578" class="messageText" style="text-anchor: middle;">bulk remove conflict set</text><line x1="275" y1="585" x2="75" y2="585" class="messageLine0" stroke-width="2" stroke="black" marker-end="url(#arrowhead)" style="fill: none;"></line></g><g><rect x="0" y="605" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="75" y="637.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="75" dy="0">memPool</tspan></text></g><g><rect x="200" y="605" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="275" y="637.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="275" dy="0">tupelo</tspan></text></g><g><rect x="400" y="605" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="475" y="637.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="475" dy="0">verifier pool</tspan></text></g><g><rect x="600" y="605" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="675" y="637.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="675" dy="0">conflict set router</tspan></text></g><g><rect x="800" y="605" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="875" y="637.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="875" dy="0">conflict set</tspan></text></g><g><rect x="1000" y="605" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1075" y="637.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1075" dy="0">signature generator</tspan></text></g><g><rect x="1200" y="605" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1275" y="637.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1275" dy="0">signature sender</tspan></text></g><g><rect x="1400" y="605" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1475" y="637.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1475" dy="0">currentStateStore</tspan></text></g><g><rect x="1600" y="605" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"></rect><text x="1675" y="637.5" dominant-baseline="central" alignment-baseline="central" class="actor" style="text-anchor: middle;"><tspan x="1675" dy="0">commitStore</tspan></text></g></svg></div>
<h2 id="new-transaction">New Transaction</h2>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-ULBTA3RMcNyfFncE" width="100%" style="max-width: 606.6640625px;" viewBox="0 0 606.6640625 785.34375"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"><g class="cluster" id="subGraph0" transform="translate(211.17578125,190)" style="opacity: 1;"><rect width="382.3515625" height="340" x="-191.17578125" y="-170"></rect><g class="label"><g transform="translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"></div></foreignObject></g></g><text x="0" y="-156" fill="black" stroke="none" id="mermaid-svg-ULBTA3RMcNyfFncEText" style="text-anchor: middle;">Transaction Verification</text></g></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M154.39453125,91L154.39453125,129L154.39453125,167" marker-end="url(#arrowhead66993)" style="fill:none"></path><defs><marker id="arrowhead66993" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M124.80795338114754,213L75.92578125,251L98.30577612704919,289" marker-end="url(#arrowhead66994)" style="fill:none"></path><defs><marker id="arrowhead66994" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M187.87890625,208.07376170889358L267.40625,251L267.40625,289" marker-end="url(#arrowhead66995)" style="fill:none"></path><defs><marker id="arrowhead66995" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M125.1116162909836,289L147.01953125,251L151.61379354508196,213" marker-end="url(#arrowhead66996)" style="fill:none"></path><defs><marker id="arrowhead66996" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M187.87890625,200.39402071282328L350.90625,251L450.0089651639344,289" marker-end="url(#arrowhead66997)" style="fill:none"></path><defs><marker id="arrowhead66997" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M509.9921875,335L509.9921875,360L509.9921875,385L509.9921875,410" marker-end="url(#arrowhead66998)" style="fill:none"></path><defs><marker id="arrowhead66998" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M461.0859375,444.4945365883026L250.453125,494L302.14344262295083,532" marker-end="url(#arrowhead66999)" style="fill:none"></path><defs><marker id="arrowhead66999" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M366.71606045081967,532L421.7109375,494L476.70581454918033,456" marker-end="url(#arrowhead67000)" style="fill:none"></path><defs><marker id="arrowhead67000" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M517.5331711065573,456L529.9921875,494L529.9921875,532" marker-end="url(#arrowhead67001)" style="fill:none"></path><defs><marker id="arrowhead67001" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M529.9921875,578L529.9921875,603L529.9921875,628" marker-end="url(#arrowhead67002)" style="fill:none"></path><defs><marker id="arrowhead67002" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(154.39453125,129)" style="opacity: 1;"><g transform="translate(-58.8203125,-13)" class="label"><foreignObject width="117.640625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">New Transaction</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(267.40625,251)" style="opacity: 1;"><g transform="translate(-39.4296875,-13)" class="label"><foreignObject width="78.859375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">If Not Valid</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(147.01953125,251)" style="opacity: 1;"><g transform="translate(-25.7890625,-13)" class="label"><foreignObject width="51.578125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">IsValid?</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(350.90625,251)" style="opacity: 1;"><g transform="translate(-24.0703125,-13)" class="label"><foreignObject width="48.140625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">If Valid</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(250.453125,494)" style="opacity: 1;"><g transform="translate(-145.953125,-13)" class="label"><foreignObject width="291.90625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">If haven't already signed a diff transaction</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="MemPool" transform="translate(154.39453125,68)" style="opacity: 1;"><rect rx="0" ry="0" x="-43.5859375" y="-23" width="87.171875" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-33.5859375,-13)"><foreignObject width="67.171875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">MemPool</div></foreignObject></g></g></g><g class="node" id="Tupelo" transform="translate(154.39453125,190)" style="opacity: 1;"><rect rx="0" ry="0" x="-33.484375" y="-23" width="66.96875" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-23.484375,-13)"><foreignObject width="46.96875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Tupelo</div></foreignObject></g></g></g><g class="node" id="ValidatorPool" transform="translate(111.8515625,312)" style="opacity: 1;"><rect rx="0" ry="0" x="-56.8515625" y="-23" width="113.703125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-46.8515625,-13)"><foreignObject width="93.703125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">ValidatorPool</div></foreignObject></g></g></g><g class="node" id="Delete" transform="translate(267.40625,312)" style="opacity: 1;"><rect rx="0" ry="0" x="-48.703125" y="-23" width="97.40625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-38.703125,-13)"><foreignObject width="77.40625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Delete Key</div></foreignObject></g></g></g><g class="node" id="ConflictSetRouter" transform="translate(509.9921875,312)" style="opacity: 1;"><rect rx="0" ry="0" x="-72.640625" y="-23" width="145.28125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-62.640625,-13)"><foreignObject width="125.28125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">ConflictSetRouter</div></foreignObject></g></g></g><g class="node" id="ConflictSet" transform="translate(509.9921875,433)" style="opacity: 1;"><rect rx="0" ry="0" x="-48.90625" y="-23" width="97.8125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-38.90625,-13)"><foreignObject width="77.8125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">ConflictSet</div></foreignObject></g></g></g><g class="node" id="SignatureGenerator" transform="translate(333.4296875,555)" style="opacity: 1;"><rect rx="0" ry="0" x="-78.9296875" y="-23" width="157.859375" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-68.9296875,-13)"><foreignObject width="137.859375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">SignatureGenerator</div></foreignObject></g></g></g><g class="node" id="SignatureSender" transform="translate(529.9921875,555)" style="opacity: 1;"><rect rx="0" ry="0" x="-67.6328125" y="-23" width="135.265625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-57.6328125,-13)"><foreignObject width="115.265625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">SignatureSender</div></foreignObject></g></g></g><g class="node" id="RewardsCommittee" transform="translate(529.9921875,708.671875)" style="opacity: 1;"><circle x="-80.671875" y="-23" r="80.671875"></circle><g class="label" transform="translate(0,0)"><g transform="translate(-70.671875,-13)"><foreignObject width="141.34375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Rewards Committee</div></foreignObject></g></g></g></g></g></g></svg></div>
<h2 id="new-signature">New Signature</h2>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-4G33MMZFxoGr5GL9" width="100%" style="max-width: 161.28125px;" viewBox="0 0 161.28125 254"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M92.640625,66L92.640625,91L92.640625,116" marker-end="url(#arrowhead67014)" style="fill:none"></path><defs><marker id="arrowhead67014" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M92.640625,162L92.640625,187L92.640625,212" marker-end="url(#arrowhead67015)" style="fill:none"></path><defs><marker id="arrowhead67015" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="Tupelo" transform="translate(92.640625,43)" style="opacity: 1;"><rect rx="0" ry="0" x="-33.484375" y="-23" width="66.96875" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-23.484375,-13)"><foreignObject width="46.96875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Tupelo</div></foreignObject></g></g></g><g class="node" id="ConflictSetRouter" transform="translate(92.640625,139)" style="opacity: 1;"><rect rx="0" ry="0" x="-72.640625" y="-23" width="145.28125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-62.640625,-13)"><foreignObject width="125.28125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">ConflictSetRouter</div></foreignObject></g></g></g><g class="node" id="ConflictSet" transform="translate(92.640625,235)" style="opacity: 1;"><rect rx="0" ry="0" x="-48.90625" y="-23" width="97.8125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-38.90625,-13)"><foreignObject width="77.8125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">ConflictSet</div></foreignObject></g></g></g></g></g></g></svg></div>
<h2 id="conflictset-logic">ConflictSet logic</h2>
<h3 id="new-transaction-1">New Transaction</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-3uZiPwgMwjaxvwjb" width="100%" style="max-width: 611.1296844482422px;" viewBox="0 0 611.1296844482422 578.1031188964844"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M319.55429458618164,66L319.55429458618164,91L320.05429458618164,116.50000152587897" marker-end="url(#arrowhead67037)" style="fill:none"></path><defs><marker id="arrowhead67037" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M266.9074694766307,223.6234858645701L86.9164047241211,314.2703094482422L86.9164047241211,352.2703094482422" marker-end="url(#arrowhead67038)" style="fill:none"></path><defs><marker id="arrowhead67038" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M359.98207799921056,236.84253061285025L436.8679656982422,314.2703094482422L436.8679656982422,352.2703094482422" marker-end="url(#arrowhead67039)" style="fill:none"></path><defs><marker id="arrowhead67039" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M86.9164047241211,398.2703094482422L86.9164047241211,423.2703094482422L87.41640472412111,448.77031097412106" marker-end="url(#arrowhead67040)" style="fill:none"></path><defs><marker id="arrowhead67040" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M381.6084442138672,398.2703094482422L321.5437469482422,423.2703094482422L321.5437469482422,492.1867141723633" marker-end="url(#arrowhead67041)" style="fill:none"></path><defs><marker id="arrowhead67041" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M492.1274871826172,398.2703094482422L552.1921844482422,423.2703094482422L552.1921844482422,492.1867141723633" marker-end="url(#arrowhead67042)" style="fill:none"></path><defs><marker id="arrowhead67042" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(86.9164047241211,314.2703094482422)" style="opacity: 1;"><g transform="translate(-11.8046875,-13)" class="label"><foreignObject width="23.609375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(436.8679656982422,314.2703094482422)" style="opacity: 1;"><g transform="translate(-10.5234375,-13)" class="label"><foreignObject width="21.046875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">No</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="Transaction" transform="translate(319.55429458618164,43)" style="opacity: 1;"><rect rx="0" ry="0" x="-50.3203125" y="-23" width="100.640625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.3203125,-13)"><foreignObject width="80.640625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Transaction</div></foreignObject></g></g></g><g class="node" id="D1" transform="translate(319.55429458618164,196.1351547241211)" style="opacity: 1;"><polygon points="80.13515625000001,0 160.27031250000002,-80.13515625000001 80.13515625000001,-160.27031250000002 0,-80.13515625000001" rx="5" ry="5" transform="translate(-80.13515625000001,80.13515625000001)"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-56.0390625,-13)"><foreignObject width="112.078125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Already Signed?</div></foreignObject></g></g></g><g class="node" id="SaveTransaction" transform="translate(86.9164047241211,375.2703094482422)" style="opacity: 1;"><rect rx="0" ry="0" x="-65.8984375" y="-23" width="131.796875" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-55.8984375,-13)"><foreignObject width="111.796875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">SaveTransaction</div></foreignObject></g></g></g><g class="node" id="SignTransaction" transform="translate(436.8679656982422,375.2703094482422)" style="opacity: 1;"><rect rx="0" ry="0" x="-64.1796875" y="-23" width="128.359375" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-54.1796875,-13)"><foreignObject width="108.359375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">SignTransaction</div></foreignObject></g></g></g><g class="node" id="Check" transform="translate(86.9164047241211,515.1867141723633)" style="opacity: 1;"><polygon points="66.91640625000001,0 133.83281250000002,-66.91640625000001 66.91640625000001,-133.83281250000002 0,-66.91640625000001" rx="5" ry="5" transform="translate(-66.91640625000001,66.91640625000001)"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-41.3515625,-13)"><foreignObject width="82.703125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Check state</div></foreignObject></g></g></g><g class="node" id="send" transform="translate(321.5437469482422,515.1867141723633)" style="opacity: 1;"><rect rx="0" ry="0" x="-117.7109375" y="-23" width="235.421875" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-107.7109375,-13)"><foreignObject width="215.421875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Send sig to rewards committee</div></foreignObject></g></g></g><g class="node" id="send2" transform="translate(552.1921844482422,515.1867141723633)" style="opacity: 1;"><rect rx="0" ry="0" x="-62.9375" y="-23" width="125.875" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-52.9375,-13)"><foreignObject width="105.875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Send sig to self</div></foreignObject></g></g></g></g></g></g></svg></div>
<h3 id="new-signature-1">New Signature</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-XIaMkfzzZoYo3N8w" width="100%" style="max-width: 149.8328094482422px;" viewBox="0 0 149.8328094482422 341.8328094482422"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M86.9164047241211,66L86.9164047241211,91L86.9164047241211,116" marker-end="url(#arrowhead67054)" style="fill:none"></path><defs><marker id="arrowhead67054" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M86.9164047241211,162L86.9164047241211,187L87.41640472412111,212.50000152587893" marker-end="url(#arrowhead67055)" style="fill:none"></path><defs><marker id="arrowhead67055" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="Signature" transform="translate(86.9164047241211,43)" style="opacity: 1;"><rect rx="0" ry="0" x="-43.125" y="-23" width="86.25" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-33.125,-13)"><foreignObject width="66.25" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Signature</div></foreignObject></g></g></g><g class="node" id="CS" transform="translate(86.9164047241211,139)" style="opacity: 1;"><rect rx="5" ry="5" x="-50.953125" y="-23" width="101.90625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.953125,-13)"><foreignObject width="81.90625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Conflict Set</div></foreignObject></g></g></g><g class="node" id="Check" transform="translate(86.9164047241211,278.9164047241211)" style="opacity: 1;"><polygon points="66.91640625000001,0 133.83281250000002,-66.91640625000001 66.91640625000001,-133.83281250000002 0,-66.91640625000001" rx="5" ry="5" transform="translate(-66.91640625000001,66.91640625000001)"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-41.3515625,-13)"><foreignObject width="82.703125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Check state</div></foreignObject></g></g></g></g></g></g></svg></div>
<h3 id="check-state">Check State</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-yjx3ElmkKNNbI13r" width="100%" style="max-width: 739.796875px;" viewBox="0 0 739.796875 367.8328094482422"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M279.2505995319363,110.94669175605742L128.6875,191.8328094482422L128.6875,229.8328094482422" marker-end="url(#arrowhead67070)" style="fill:none"></path><defs><marker id="arrowhead67070" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M128.6875,275.8328094482422L128.6875,300.8328094482422L128.6875,325.8328094482422" marker-end="url(#arrowhead67071)" style="fill:none"></path><defs><marker id="arrowhead67071" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M366.0228399467104,110.94669282916848L515.5859375,191.8328094482422L515.5859375,229.8328094482422" marker-end="url(#arrowhead67072)" style="fill:none"></path><defs><marker id="arrowhead67072" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(128.6875,191.8328094482422)" style="opacity: 1;"><g transform="translate(-17.7109375,-13)" class="label"><foreignObject width="35.421875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">done</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(515.5859375,191.8328094482422)" style="opacity: 1;"><g transform="translate(-39.9453125,-13)" class="label"><foreignObject width="79.890625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">deadlocked</span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="Check" transform="translate(322.13671875,86.9164047241211)" style="opacity: 1;"><polygon points="66.91640625000001,0 133.83281250000002,-66.91640625000001 66.91640625000001,-133.83281250000002 0,-66.91640625000001" rx="5" ry="5" transform="translate(-66.91640625000001,66.91640625000001)"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-41.3515625,-13)"><foreignObject width="82.703125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Check state</div></foreignObject></g></g></g><g class="node" id="CreateCurrentStateWrapper" transform="translate(128.6875,252.8328094482422)" style="opacity: 1;"><rect rx="0" ry="0" x="-108.6875" y="-23" width="217.375" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-98.6875,-13)"><foreignObject width="197.375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">CreateCurrentStateWrapper</div></foreignObject></g></g></g><g class="node" id="SendToSelf" transform="translate(128.6875,348.8328094482422)" style="opacity: 1;"><rect rx="0" ry="0" x="-48.8125" y="-23" width="97.625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-38.8125,-13)"><foreignObject width="77.625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">SendToSelf</div></foreignObject></g></g></g><g class="node" id="reset" transform="translate(515.5859375,252.8328094482422)" style="opacity: 1;"><rect rx="0" ry="0" x="-228.2109375" y="-23" width="456.421875" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-218.2109375,-13)"><foreignObject width="436.421875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">choose lowest transaction, erase all other state, sign that trans</div></foreignObject></g></g></g></g></g></g></svg></div>
<h3 id="current-state-wrapper">Current State Wrapper</h3>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-nd2JuZRt3ZJQzAqS" width="100%" style="max-width: 601.265625px;" viewBox="0 0 601.265625 440.3484344482422"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M328.06640625,66L328.06640625,91L328.56640625,116.50000152587897" marker-end="url(#arrowhead67092)" style="fill:none"></path><defs><marker id="arrowhead67092" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M293.7930046895794,192.07503441370045L169.25,264.3484344482422L169.25,302.3484344482422" marker-end="url(#arrowhead67093)" style="fill:none"></path><defs><marker id="arrowhead67093" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M169.25,348.3484344482422L169.25,373.3484344482422L169.25,398.3484344482422" marker-end="url(#arrowhead67094)" style="fill:none"></path><defs><marker id="arrowhead67094" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M363.3398097337826,192.07503554209617L486.8828125,264.3484344482422L486.8828125,302.3484344482422" marker-end="url(#arrowhead67095)" style="fill:none"></path><defs><marker id="arrowhead67095" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(169.25,264.3484344482422)" style="opacity: 1;"><g transform="translate(-11.703125,-13)" class="label"><foreignObject width="23.40625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">yes</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(486.8828125,264.3484344482422)" style="opacity: 1;"><g transform="translate(-9,-13)" class="label"><foreignObject width="18" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">no</span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="CurrentState" transform="translate(328.06640625,43)" style="opacity: 1;"><rect rx="0" ry="0" x="-54.9765625" y="-23" width="109.953125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-44.9765625,-13)"><foreignObject width="89.953125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">CurrentState</div></foreignObject></g></g></g><g class="node" id="verified" transform="translate(328.06640625,171.1742172241211)" style="opacity: 1;"><polygon points="55.17421875,0 110.3484375,-55.17421875 55.17421875,-110.3484375 0,-55.17421875" rx="5" ry="5" transform="translate(-55.17421875,55.17421875)"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-28.3046875,-13)"><foreignObject width="56.609375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Is Valid?</div></foreignObject></g></g></g><g class="node" id="ConflictSetRouter" transform="translate(169.25,325.3484344482422)" style="opacity: 1;"><rect rx="0" ry="0" x="-149.25" y="-23" width="298.5" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-139.25,-13)"><foreignObject width="278.5" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">send to parent and switch to done state</div></foreignObject></g></g></g><g class="node" id="Tupelo" transform="translate(169.25,421.3484344482422)" style="opacity: 1;"><rect rx="0" ry="0" x="-33.484375" y="-23" width="66.96875" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-23.484375,-13)"><foreignObject width="46.96875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Tupelo</div></foreignObject></g></g></g><g class="node" id="ConflictSetRouter2" transform="translate(486.8828125,325.3484344482422)" style="opacity: 1;"><rect rx="0" ry="0" x="-118.3828125" y="-23" width="236.765625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-108.3828125,-13)"><foreignObject width="216.765625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">send to parent, stay processing</div></foreignObject></g></g></g></g></g></g></svg></div>
</div>
</body>

</html>
